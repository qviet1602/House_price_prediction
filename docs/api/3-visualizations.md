# Visualizations

## Get State Median Prices

```
GET /api/state_median_prices (requires authentication)
```

__Response__:

```json
{
    "count": 66720,
    "next": "http://localhost:8000/api/state_median_prices?page=2",
    "previous": null,
    "results": [
        {
            "id": 5749,
            "year_month": "2010-01",
            "list_price": 330255,
            "created_date": "2019-11-18T13:25:40.530582Z",
            "modified_date": "2019-11-18T13:25:40.530582Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5750,
            "year_month": "2010-02",
            "list_price": 335000,
            "created_date": "2019-11-18T13:25:40.534468Z",
            "modified_date": "2019-11-18T13:25:40.534468Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5751,
            "year_month": "2010-03",
            "list_price": 337800,
            "created_date": "2019-11-18T13:25:40.535257Z",
            "modified_date": "2019-11-18T13:25:40.535257Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5752,
            "year_month": "2010-04",
            "list_price": 339900,
            "created_date": "2019-11-18T13:25:40.535916Z",
            "modified_date": "2019-11-18T13:25:40.535916Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5753,
            "year_month": "2010-05",
            "list_price": 342500,
            "created_date": "2019-11-18T13:25:40.536557Z",
            "modified_date": "2019-11-18T13:25:40.536557Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5754,
            "year_month": "2010-06",
            "list_price": 345000,
            "created_date": "2019-11-18T13:25:40.537121Z",
            "modified_date": "2019-11-18T13:25:40.537121Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5755,
            "year_month": "2010-07",
            "list_price": 339900,
            "created_date": "2019-11-18T13:25:40.537810Z",
            "modified_date": "2019-11-18T13:25:40.537810Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5756,
            "year_month": "2010-08",
            "list_price": 339900,
            "created_date": "2019-11-18T13:25:40.538238Z",
            "modified_date": "2019-11-18T13:25:40.538238Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5757,
            "year_month": "2010-09",
            "list_price": 329900,
            "created_date": "2019-11-18T13:25:40.538686Z",
            "modified_date": "2019-11-18T13:25:40.538686Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5758,
            "year_month": "2010-10",
            "list_price": 324900,
            "created_date": "2019-11-18T13:25:40.539068Z",
            "modified_date": "2019-11-18T13:25:40.539068Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5759,
            "year_month": "2010-11",
            "list_price": 315000,
            "created_date": "2019-11-18T13:25:40.539566Z",
            "modified_date": "2019-11-18T13:25:40.539566Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5760,
            "year_month": "2010-12",
            "list_price": 299900,
            "created_date": "2019-11-18T13:25:40.539968Z",
            "modified_date": "2019-11-18T13:25:40.539968Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5761,
            "year_month": "2011-01",
            "list_price": 299000,
            "created_date": "2019-11-18T13:25:40.540419Z",
            "modified_date": "2019-11-18T13:25:40.540419Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5762,
            "year_month": "2011-02",
            "list_price": 294900,
            "created_date": "2019-11-18T13:25:40.540812Z",
            "modified_date": "2019-11-18T13:25:40.540812Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5763,
            "year_month": "2011-03",
            "list_price": 299000,
            "created_date": "2019-11-18T13:25:40.541242Z",
            "modified_date": "2019-11-18T13:25:40.541242Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5764,
            "year_month": "2011-04",
            "list_price": 299000,
            "created_date": "2019-11-18T13:25:40.541725Z",
            "modified_date": "2019-11-18T13:25:40.541725Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5765,
            "year_month": "2011-05",
            "list_price": 299950,
            "created_date": "2019-11-18T13:25:40.542182Z",
            "modified_date": "2019-11-18T13:25:40.542182Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5766,
            "year_month": "2011-06",
            "list_price": 299950,
            "created_date": "2019-11-18T13:25:40.542569Z",
            "modified_date": "2019-11-18T13:25:40.542569Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5767,
            "year_month": "2011-07",
            "list_price": 299900,
            "created_date": "2019-11-18T13:25:40.542996Z",
            "modified_date": "2019-11-18T13:25:40.542996Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5768,
            "year_month": "2011-08",
            "list_price": 299900,
            "created_date": "2019-11-18T13:25:40.543333Z",
            "modified_date": "2019-11-18T13:25:40.543333Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5769,
            "year_month": "2011-09",
            "list_price": 299000,
            "created_date": "2019-11-18T13:25:40.543666Z",
            "modified_date": "2019-11-18T13:25:40.543666Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5770,
            "year_month": "2011-10",
            "list_price": 299000,
            "created_date": "2019-11-18T13:25:40.544147Z",
            "modified_date": "2019-11-18T13:25:40.544147Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5771,
            "year_month": "2011-11",
            "list_price": 289900,
            "created_date": "2019-11-18T13:25:40.544674Z",
            "modified_date": "2019-11-18T13:25:40.544674Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5772,
            "year_month": "2011-12",
            "list_price": 284900,
            "created_date": "2019-11-18T13:25:40.545122Z",
            "modified_date": "2019-11-18T13:25:40.545122Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5773,
            "year_month": "2012-01",
            "list_price": 281900,
            "created_date": "2019-11-18T13:25:40.545641Z",
            "modified_date": "2019-11-18T13:25:40.545641Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5774,
            "year_month": "2012-02",
            "list_price": 285000,
            "created_date": "2019-11-18T13:25:40.545996Z",
            "modified_date": "2019-11-18T13:25:40.545996Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5775,
            "year_month": "2012-03",
            "list_price": 289000,
            "created_date": "2019-11-18T13:25:40.546408Z",
            "modified_date": "2019-11-18T13:25:40.546408Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5776,
            "year_month": "2012-04",
            "list_price": 295000,
            "created_date": "2019-11-18T13:25:40.546757Z",
            "modified_date": "2019-11-18T13:25:40.546757Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5777,
            "year_month": "2012-05",
            "list_price": 299900,
            "created_date": "2019-11-18T13:25:40.547203Z",
            "modified_date": "2019-11-18T13:25:40.547203Z",
            "state": 1,
            "home_type": 10
        },
        {
            "id": 5778,
            "year_month": "2012-06",
            "list_price": 309900,
            "created_date": "2019-11-18T13:25:40.547528Z",
            "modified_date": "2019-11-18T13:25:40.547528Z",
            "state": 1,
            "home_type": 10
        }
    ]
}
```


## Get safe counties

```
GET /api/crime_rate?zipcode__state__name=North+Dakota
```

__NOTE__:

 - This API accepts query param of `zipcode__state__name` to get most safe counties in a specific state

__Response__:

```json
{
    "count": 50,
    "next": "http://localhost:8000/api/crime_rate?page=2&zipcode__state__name=North+Dakota",
    "previous": null,
    "results": [
        {
            "county": "Steele County",
            "state": "North Dakota",
            "avg_crime_rate": 7.533333333333333
        },
        {
            "county": "Oliver County",
            "state": "North Dakota",
            "avg_crime_rate": 10.2
        },
        {
            "county": "Cass County",
            "state": "North Dakota",
            "avg_crime_rate": 13.868421052631579
        },
        {
            "county": "Richland County",
            "state": "North Dakota",
            "avg_crime_rate": 13.908333333333333
        },
        {
            "county": "Cavalier County",
            "state": "North Dakota",
            "avg_crime_rate": 14.075
        },
        {
            "county": "Morton County",
            "state": "North Dakota",
            "avg_crime_rate": 14.32
        },
        {
            "county": "Mercer County",
            "state": "North Dakota",
            "avg_crime_rate": 14.36
        },
        {
            "county": "Barnes County",
            "state": "North Dakota",
            "avg_crime_rate": 14.876923076923077
        },
        {
            "county": "Traill County",
            "state": "North Dakota",
            "avg_crime_rate": 14.9
        },
        {
            "county": "McLean County",
            "state": "North Dakota",
            "avg_crime_rate": 14.981818181818182
        },
        {
            "county": "Bowman County",
            "state": "North Dakota",
            "avg_crime_rate": 15.15
        },
        {
            "county": "Adams County",
            "state": "North Dakota",
            "avg_crime_rate": 15.3
        },
        {
            "county": "Lamoure County",
            "state": "North Dakota",
            "avg_crime_rate": 15.5
        },
        {
            "county": "Stark County",
            "state": "North Dakota",
            "avg_crime_rate": 16.357142857142858
        },
        {
            "county": "Sargent County",
            "state": "North Dakota",
            "avg_crime_rate": 16.975
        },
        {
            "county": "Stutsman County",
            "state": "North Dakota",
            "avg_crime_rate": 17.23
        },
        {
            "county": "Ward County",
            "state": "North Dakota",
            "avg_crime_rate": 17.307692307692307
        },
        {
            "county": "Burke County",
            "state": "North Dakota",
            "avg_crime_rate": 17.38
        },
        {
            "county": "Grand Forks County",
            "state": "North Dakota",
            "avg_crime_rate": 17.408333333333335
        },
        {
            "county": "Williams County",
            "state": "North Dakota",
            "avg_crime_rate": 17.6625
        },
        {
            "county": "Kidder County",
            "state": "North Dakota",
            "avg_crime_rate": 17.7
        },
        {
            "county": "Hettinger County",
            "state": "North Dakota",
            "avg_crime_rate": 17.866666666666667
        },
        {
            "county": "McHenry County",
            "state": "North Dakota",
            "avg_crime_rate": 17.95
        },
        {
            "county": "Pembina County",
            "state": "North Dakota",
            "avg_crime_rate": 17.97142857142857
        },
        {
            "county": "Foster County",
            "state": "North Dakota",
            "avg_crime_rate": 18.4
        },
        {
            "county": "Dickey County",
            "state": "North Dakota",
            "avg_crime_rate": 18.55
        },
        {
            "county": "Renville County",
            "state": "North Dakota",
            "avg_crime_rate": 18.7
        },
        {
            "county": "Logan County",
            "state": "North Dakota",
            "avg_crime_rate": 18.95
        },
        {
            "county": "Wells County",
            "state": "North Dakota",
            "avg_crime_rate": 19.1
        },
        {
            "county": "Burleigh County",
            "state": "North Dakota",
            "avg_crime_rate": 19.21818181818182
        }
    ]
}
```

## Get Affordable Counties

```
GET /api/affordable_counties?zipcode__state__name=California
```

__NOTE__:

 - This API accepts query param of `zipcode__state__name` to get most affordable counties in a specific state

__Response__:

```json
{
    "count": 58,
    "next": "http://localhost:8000/api/affordable_counties?page=2&zipcode__state__name=California",
    "previous": null,
    "results": [
        {
            "county": "Kings County",
            "state": "California",
            "avg_annual_income": 13799.57142857143
        },
        {
            "county": "Imperial County",
            "state": "California",
            "avg_annual_income": 14421.07142857143
        },
        {
            "county": "Tulare County",
            "state": "California",
            "avg_annual_income": 17621.433333333334
        },
        {
            "county": "Del Norte County",
            "state": "California",
            "avg_annual_income": 18556.0
        },
        {
            "county": "Merced County",
            "state": "California",
            "avg_annual_income": 18795.368421052633
        },
        {
            "county": "Alpine County",
            "state": "California",
            "avg_annual_income": 19246.5
        },
        {
            "county": "Butte County",
            "state": "California",
            "avg_annual_income": 19798.75
        },
        {
            "county": "Stanislaus County",
            "state": "California",
            "avg_annual_income": 20368.541666666668
        },
        {
            "county": "Fresno County",
            "state": "California",
            "avg_annual_income": 20387.29090909091
        },
        {
            "county": "Siskiyou County",
            "state": "California",
            "avg_annual_income": 20690.238095238095
        },
        {
            "county": "Glenn County",
            "state": "California",
            "avg_annual_income": 20932.166666666668
        },
        {
            "county": "Modoc County",
            "state": "California",
            "avg_annual_income": 21405.545454545456
        },
        {
            "county": "Lake County",
            "state": "California",
            "avg_annual_income": 21415.785714285714
        },
        {
            "county": "Kern County",
            "state": "California",
            "avg_annual_income": 21639.977777777778
        },
        {
            "county": "Inyo County",
            "state": "California",
            "avg_annual_income": 21759.272727272728
        },
        {
            "county": "Tehama County",
            "state": "California",
            "avg_annual_income": 21972.416666666668
        },
        {
            "county": "San Bernardino County",
            "state": "California",
            "avg_annual_income": 22417.14457831325
        },
        {
            "county": "Trinity County",
            "state": "California",
            "avg_annual_income": 22456.69230769231
        },
        {
            "county": "Mendocino County",
            "state": "California",
            "avg_annual_income": 23183.958333333332
        },
        {
            "county": "Humboldt County",
            "state": "California",
            "avg_annual_income": 23283.2
        },
        {
            "county": "Shasta County",
            "state": "California",
            "avg_annual_income": 23530.416666666668
        },
        {
            "county": "Colusa County",
            "state": "California",
            "avg_annual_income": 23758.625
        },
        {
            "county": "Mono County",
            "state": "California",
            "avg_annual_income": 24266.714285714286
        },
        {
            "county": "Yuba County",
            "state": "California",
            "avg_annual_income": 24296.875
        },
        {
            "county": "Riverside County",
            "state": "California",
            "avg_annual_income": 24985.565217391304
        },
        {
            "county": "Lassen County",
            "state": "California",
            "avg_annual_income": 25129.384615384613
        },
        {
            "county": "Plumas County",
            "state": "California",
            "avg_annual_income": 25288.785714285714
        },
        {
            "county": "San Joaquin County",
            "state": "California",
            "avg_annual_income": 25357.533333333333
        },
        {
            "county": "Madera County",
            "state": "California",
            "avg_annual_income": 25939.833333333332
        },
        {
            "county": "Tuolumne County",
            "state": "California",
            "avg_annual_income": 25950.555555555555
        }
    ]
}
```


## Get Predicted Prices

```
GET /api/predicted_prices?county_id=3&home_type_id=3
```

__NOTE__: This API accepts mandatory parameter `county_id` and `type_id` to give corresponding predicted price for year 2020 and month 09.

__NOTE__: In case the predicted prices for a given combination of county_id and home_type_id are not available, client will get a `204: No Content` status code with empty body.

__Response__:

```json
{
    "county_id": 3.0,
    "predicted_price": 44138.0,
    "home_type_id": 3.0
}
```
